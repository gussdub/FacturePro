{
  "summary": {
    "total_tests": 30,
    "passed_tests": 19,
    "success_rate": 63.33333333333333
  },
  "test_results": [
    {
      "name": "Health Endpoint",
      "success": true,
      "details": "Health check passed: {'status': 'healthy', 'timestamp': '2025-09-29T22:46:43.251651+00:00'}",
      "response_data": null
    },
    {
      "name": "User Registration",
      "success": true,
      "details": "User created with ID: b220241f-8891-473b-bd61-988d1b809d16",
      "response_data": null
    },
    {
      "name": "User Login (Existing User)",
      "success": true,
      "details": "Login successful for user: test@facturepro.com",
      "response_data": null
    },
    {
      "name": "Dashboard Stats",
      "success": false,
      "details": "Request failed: {'detail': 'Votre abonnement a expir\u00e9. Veuillez renouveler votre abonnement pour continuer \u00e0 utiliser FacturePro.'}",
      "response_data": null
    },
    {
      "name": "Create Client",
      "success": false,
      "details": "Failed to create client: {'detail': 'Votre abonnement a expir\u00e9. Veuillez renouveler votre abonnement pour continuer \u00e0 utiliser FacturePro.'}",
      "response_data": null
    },
    {
      "name": "Invoice Management",
      "success": false,
      "details": "No test client available",
      "response_data": null
    },
    {
      "name": "Quote Management",
      "success": false,
      "details": "No test client available",
      "response_data": null
    },
    {
      "name": "Delete Invoice Setup",
      "success": false,
      "details": "No test client available",
      "response_data": null
    },
    {
      "name": "Delete Quote Setup",
      "success": false,
      "details": "No test client available",
      "response_data": null
    },
    {
      "name": "Get Company Settings",
      "success": false,
      "details": "Failed to get settings: {'detail': 'Votre abonnement a expir\u00e9. Veuillez renouveler votre abonnement pour continuer \u00e0 utiliser FacturePro.'}",
      "response_data": null
    },
    {
      "name": "Create Product",
      "success": false,
      "details": "Failed to create product: {'detail': 'Votre abonnement a expir\u00e9. Veuillez renouveler votre abonnement pour continuer \u00e0 utiliser FacturePro.'}",
      "response_data": null
    },
    {
      "name": "Subscription - New User Registration",
      "success": true,
      "details": "User created with trial: a7cf40a7-d7b8-4f05-849a-38e1f50a30e4",
      "response_data": null
    },
    {
      "name": "Subscription - Trial Status Check",
      "success": true,
      "details": "Trial active with 13 days remaining",
      "response_data": null
    },
    {
      "name": "Subscription - Middleware Access During Trial",
      "success": true,
      "details": "Protected endpoints accessible during trial",
      "response_data": null
    },
    {
      "name": "Subscription - Monthly Checkout Creation",
      "success": true,
      "details": "Monthly checkout session created: cs_test_a1pOqINtOsNWsMITzSfng9U1hwJf2uUcxFJeNzNH82j3EJMaD43iBCOxFF",
      "response_data": null
    },
    {
      "name": "Subscription - Annual Checkout Creation",
      "success": true,
      "details": "Annual checkout session created: cs_test_a19jZ7Hv8jwdocudY4by6bfa9Ssxs5abPVhxSUp7xT22RHAoSQd97NYirV",
      "response_data": null
    },
    {
      "name": "Subscription - Checkout Status Check",
      "success": true,
      "details": "Checkout status: unpaid",
      "response_data": null
    },
    {
      "name": "Subscription - Cancellation",
      "success": true,
      "details": "Subscription cancelled: Abonnement annul\u00e9. Vous conservez l'acc\u00e8s jusqu'\u00e0 la fin de votre p\u00e9riode de facturation.",
      "response_data": null
    },
    {
      "name": "Subscription - Webhook Endpoint",
      "success": true,
      "details": "Webhook endpoint exists and processes requests",
      "response_data": null
    },
    {
      "name": "Subscription - Invalid Plan Validation",
      "success": true,
      "details": "Invalid plan correctly rejected with validation error",
      "response_data": null
    },
    {
      "name": "Subscription - Access Control Logic",
      "success": true,
      "details": "Subscription access control logic implemented",
      "response_data": null
    },
    {
      "name": "Exemption Logic - Test User Created",
      "success": true,
      "details": "Created test user: testexempt1759186005@gmail.com",
      "response_data": null
    },
    {
      "name": "Exemption Logic - Normal User Trial Access",
      "success": true,
      "details": "Normal user has trial access: True, status: trial",
      "response_data": null
    },
    {
      "name": "Exemption Logic - Normal User Protected Access During Trial",
      "success": true,
      "details": "Normal user can access protected endpoints during trial",
      "response_data": null
    },
    {
      "name": "Exemption User - Login Failed",
      "success": false,
      "details": "Could not login to gussdub@gmail.com with common passwords",
      "response_data": null
    },
    {
      "name": "Exemption Logic - Code Implementation",
      "success": true,
      "details": "Exemption logic is implemented in check_subscription_access() function with EXEMPT_USERS list containing gussdub@gmail.com",
      "response_data": null
    },
    {
      "name": "gussdub@gmail.com - Setup Failed",
      "success": false,
      "details": "Could not setup gussdub@gmail.com account: {'detail': 'Email already registered'}",
      "response_data": null
    },
    {
      "name": "CORS Headers",
      "success": true,
      "details": "CORS headers present: {'Access-Control-Allow-Origin': '*', 'Access-Control-Allow-Methods': None, 'Access-Control-Allow-Headers': None}",
      "response_data": null
    },
    {
      "name": "Unauthorized Access",
      "success": true,
      "details": "Correctly rejected unauthorized request",
      "response_data": null
    },
    {
      "name": "Invalid Client ID",
      "success": false,
      "details": "Expected 404 but got: {'detail': 'Votre abonnement a expir\u00e9. Veuillez renouveler votre abonnement pour continuer \u00e0 utiliser FacturePro.'}",
      "response_data": null
    }
  ]
}